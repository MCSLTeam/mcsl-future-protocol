# 权限

**权限（Permission）**，类似于 Bukkit 权限，是一种以名称的形式定义每个用户能够访问的内容、执行的操作等的信息。

<tip>
权限的正则表达式为 <code>/^(([a-zA-Z-_]+|\*{1,2})\.)*([a-zA-Z-_]+|\*{1,2})$/</code> 。
</tip>

## 权限节点

**权限节点（Permission Node）** 是组成权限的要素，一个权限由许多个节点组成，节点之间由 `.` 分割。

节点仅可由大小写字母、连字符和下划线组成。

例如：`a.b.c` 就是由 `a`、`b` 和 `c` 这三个节点组成的。并且我们可以说 `b` 是 `a` 的 **子节点**，`a` 是 `b` 的 **父节点**。

## 权限匹配

在用户访问某个需要权限的内容时，程序将会进行 **权限匹配** 来检查用户可否访问，如果权限匹配成功用户即可访问。

### 匹配规则

#### 完全匹配

如果用户拥有某个权限与需要的权限相同时匹配。

例如：用户拥有权限 `a.b` 且需要 `a.b` 权限时匹配

#### 父节点匹配子节点

如果用户拥有某个权限是需要的权限的父节点时匹配。

例如：用户拥有权限 `a.b` 且需要 `a.b.c` 权限时匹配

### 通配符

通配符是一种特殊节点，可以模糊匹配权限。

#### 任何单个节点 `*`

`*` 代表 **任何单个节点**，仅可单独作为节点名称出现。

例如：`a.*.c`是正确的，`a.b*.c`是错误的。

`*`可以顶替任何单个节点，如：用户拥有权限`a.*.c`且需要`a.b.c`权限时匹配

当然，**父节点匹配子节点** 的匹配规则同样适用，如：用户拥有权限 `a.*.c` 且需要 `a.b.c.d` 权限时匹配。

#### 任何节点 `**`

`**` 代表 **任何节点**，仅可单独作为节点名称出现。

例如：`a.**.c` 是正确的，`a.b**.c` 是错误的。

`**` 可以顶替任何节点，如：用户拥有权限 `a.**.e` 且需要 `a.b.c.d.e` 权限时匹配

当然，**父节点匹配子节点** 的匹配规则同样适用，如：用户拥有权限 `a.**.c` 且需要 `a.b.c.d` 权限时匹配。

<warning>
用户拥有权限 <code>a.b.**.c</code> 且需要 <code>a.b.c</code> 权限时将不会匹配
</warning>